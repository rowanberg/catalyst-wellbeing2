module.exports=[59285,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(50944),f=a.i(38246),g=a.i(210),h=a.i(58232),i=a.i(21161),j=a.i(81402),k=a.i(59407),l=a.i(55225),m=a.i(44494),n=a.i(3314),o=a.i(41710),p=a.i(95756),q=a.i(90821),r=a.i(54018),s=a.i(52495),t=a.i(5151),u=a.i(77156),v=a.i(41379),w=a.i(69520),x=a.i(92759),y=a.i(1027),z=a.i(60246),A=a.i(63917),B=a.i(16501);function C(){let a=(0,e.useParams)(),C=(0,e.useRouter)(),D="true"===(0,e.useSearchParams)().get("created"),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!0),[I,J]=(0,c.useState)("overview"),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let{data:{user:b}}=await B.devSupabase.auth.getUser();if(!b)return void C.push("/login");let{data:c}=await B.devSupabase.from("developer_accounts").select("id").eq("auth_user_id",b.id).single();if(!c)return;let{data:d}=await B.devSupabase.from("developer_applications").select("*").eq("id",a.id).eq("developer_id",c.id).single();d&&F(d)}catch(a){console.error("Error loading application:",a)}finally{H(!1)}})()},[a.id,C]);let O=async(a,b)=>{await navigator.clipboard.writeText(a),N(b),setTimeout(()=>N(null),2e3)},P=a=>a?new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",Q=async()=>{if(E)try{let a=await fetch(`/api/applications/${E.id}/submit`,{method:"POST"}),b=await a.json();if(!a.ok)throw Error(b.error||"Failed to submit");F({...E,status:"submitted"})}catch(a){alert(a.message)}};if(G)return(0,b.jsxs)("div",{className:"space-y-6 animate-pulse",children:[(0,b.jsx)("div",{className:"h-8 bg-slate-800 rounded-lg w-48"}),(0,b.jsx)("div",{className:"h-64 bg-slate-800/50 rounded-2xl"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"h-32 bg-slate-800/50 rounded-2xl"}),(0,b.jsx)("div",{className:"h-32 bg-slate-800/50 rounded-2xl"}),(0,b.jsx)("div",{className:"h-32 bg-slate-800/50 rounded-2xl"})]})]});if(!E)return(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)(h.AppWindow,{className:"w-16 h-16 text-slate-500 mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Application not found"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"This application doesn't exist or you don't have access to it."}),(0,b.jsxs)(f.default,{href:"/dashboard/applications",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-xl font-semibold",children:[(0,b.jsx)(g.ArrowLeft,{className:"w-4 h-4"}),"Back to Applications"]})]});let R=(a=>{switch(a){case"approved":return{label:"Live",color:"bg-green-500/20 text-green-400 border-green-500/30",icon:p.CheckCircle};case"draft":return{label:"Draft",color:"bg-slate-500/20 text-slate-400 border-slate-500/30",icon:q.AlertCircle};case"submitted":case"in_review":return{label:"In Review",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",icon:o.Clock};case"rejected":return{label:"Rejected",color:"bg-red-500/20 text-red-400 border-red-500/30",icon:r.XCircle};case"suspended":return{label:"Suspended",color:"bg-orange-500/20 text-orange-400 border-orange-500/30",icon:q.AlertCircle};default:return{label:a,color:"bg-slate-500/20 text-slate-400 border-slate-500/30",icon:q.AlertCircle}}})(E.status),S=R.icon,T=[{id:"overview",label:"Overview",icon:h.AppWindow},{id:"credentials",label:"Credentials",icon:j.Key},{id:"oauth",label:"OAuth Config",icon:n.Shield},{id:"webhooks",label:"Webhooks",icon:k.Webhook},{id:"analytics",label:"Analytics",icon:l.BarChart3}];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(f.default,{href:"/dashboard/applications",className:"inline-flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-4",children:[(0,b.jsx)(g.ArrowLeft,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Back to Applications"})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-slate-600 flex items-center justify-center flex-shrink-0",children:E.logo_url?(0,b.jsx)("img",{src:E.logo_url,alt:E.name,className:"w-12 h-12 rounded-lg"}):(0,b.jsx)(h.AppWindow,{className:"w-8 h-8 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:E.name}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-lg text-sm font-medium border ${R.color}`,children:[(0,b.jsx)(S,{className:"w-4 h-4"}),R.label]})]}),(0,b.jsx)("p",{className:"text-slate-400 mt-1",children:E.short_description||E.description?.slice(0,100)})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:["draft"===E.status&&(0,b.jsxs)("button",{onClick:Q,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold text-sm transition-all",children:[(0,b.jsx)(x.Send,{className:"w-4 h-4"}),"Submit for Review"]}),(0,b.jsxs)(f.default,{href:`/dashboard/applications/${E.id}/settings`,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-medium text-sm transition-colors",children:[(0,b.jsx)(i.Settings,{className:"w-4 h-4"}),"Settings"]})]})]})]}),D&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex items-start gap-3",children:[(0,b.jsx)(p.CheckCircle,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-green-300",children:"Application created successfully!"}),(0,b.jsx)("p",{className:"text-sm text-green-400/80 mt-1",children:"Your client credentials are shown below. Save the client secret - it won't be shown again."})]})]}),"rejected"===E.status&&E.rejection_reason&&(0,b.jsxs)("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-3",children:[(0,b.jsx)(r.XCircle,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-red-300",children:"Application rejected"}),(0,b.jsx)("p",{className:"text-sm text-red-400/80 mt-1",children:E.rejection_reason})]})]}),(0,b.jsx)("div",{className:"border-b border-slate-700",children:(0,b.jsx)("div",{className:"flex gap-1 overflow-x-auto",children:T.map(a=>(0,b.jsxs)("button",{onClick:()=>J(a.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${I===a.id?"text-blue-400 border-blue-400":"text-slate-400 border-transparent hover:text-white"}`,children:[(0,b.jsx)(a.icon,{className:"w-4 h-4"}),a.label]},a.id))})}),"overview"===I&&(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-400 mb-2",children:[(0,b.jsx)(y.Zap,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:"API Calls"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:(E.total_api_calls||0).toLocaleString()})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-400 mb-2",children:[(0,b.jsx)(z.Users,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:"Active Users"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:E.active_installs||0})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-400 mb-2",children:[(0,b.jsx)(n.Shield,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:"Scopes"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:E.allowed_scopes?.length||E.requested_scopes?.length||0})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-400 mb-2",children:[(0,b.jsx)(m.Globe,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:"Environment"})]}),(0,b.jsx)("p",{className:"text-lg font-bold text-white capitalize",children:E.environment})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Description"}),(0,b.jsx)("p",{className:"text-slate-300 whitespace-pre-wrap",children:E.description})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"URLs"}),(0,b.jsx)("div",{className:"space-y-3",children:[{label:"Website",url:E.website_url},{label:"Privacy Policy",url:E.privacy_policy_url},{label:"Terms of Service",url:E.terms_of_service_url},{label:"Support",url:E.support_url},{label:"Documentation",url:E.documentation_url}].filter(a=>a.url).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-slate-400",children:a.label}),(0,b.jsxs)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[(0,b.jsx)("span",{className:"truncate max-w-xs",children:a.url}),(0,b.jsx)(s.ExternalLink,{className:"w-3 h-3"})]})]},a.label))})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Details"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Category"}),(0,b.jsx)("p",{className:"text-white capitalize",children:E.category||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Created"}),(0,b.jsx)("p",{className:"text-white",children:P(E.created_at)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Last Updated"}),(0,b.jsx)("p",{className:"text-white",children:P(E.updated_at)})]}),E.submitted_at&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Submitted"}),(0,b.jsx)("p",{className:"text-white",children:P(E.submitted_at)})]}),E.approved_at&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Approved"}),(0,b.jsx)("p",{className:"text-white",children:P(E.approved_at)})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(f.default,{href:`/dashboard/applications/${E.id}/settings`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-700/50 transition-colors",children:[(0,b.jsx)(i.Settings,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Edit Settings"})]}),(0,b.jsxs)("button",{onClick:()=>J("credentials"),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-700/50 transition-colors w-full text-left",children:[(0,b.jsx)(j.Key,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"View Credentials"})]}),(0,b.jsxs)(f.default,{href:"/dashboard/docs",className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-700/50 transition-colors",children:[(0,b.jsx)(A.Code2,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"API Documentation"})]})]})]})]})]}),"credentials"===I&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"OAuth Credentials"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Client ID"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 p-3 bg-slate-900/50 rounded-lg border border-slate-700 font-mono text-sm text-white",children:K?E.client_id:"••••••••••••••••••••••••••••"}),(0,b.jsx)("button",{onClick:()=>L(!K),className:"p-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors",children:K?(0,b.jsx)(v.EyeOff,{className:"w-4 h-4 text-white"}):(0,b.jsx)(u.Eye,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("button",{onClick:()=>O(E.client_id,"client_id"),className:"p-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors",children:(0,b.jsx)(t.Copy,{className:`w-4 h-4 ${"client_id"===M?"text-green-400":"text-white"}`})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Client Secret"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 p-3 bg-slate-900/50 rounded-lg border border-slate-700 font-mono text-sm text-slate-500",children:"••••••••••••••••••••••••••••••••••••"}),(0,b.jsxs)("button",{className:"px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm transition-colors flex items-center gap-2",children:[(0,b.jsx)(w.RefreshCw,{className:"w-4 h-4"}),"Rotate"]})]}),(0,b.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"Client secret is only shown once when created. Use the rotate button to generate a new one."})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Environment"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:`flex-1 p-4 rounded-xl border-2 ${"sandbox"===E.environment?"border-blue-500/50 bg-blue-500/10":"border-slate-700 bg-slate-900/50"}`,children:[(0,b.jsx)("p",{className:"font-medium text-white",children:"Sandbox"}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Test with dummy data"})]}),(0,b.jsxs)("div",{className:`flex-1 p-4 rounded-xl border-2 ${"production"===E.environment?"border-blue-500/50 bg-blue-500/10":"border-slate-700 bg-slate-900/50"}`,children:[(0,b.jsx)("p",{className:"font-medium text-white",children:"Production"}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Live data access"})]})]})]})]}),"oauth"===I&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Redirect URIs"}),(0,b.jsx)("div",{className:"space-y-2",children:E.redirect_uris?.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700",children:[(0,b.jsx)("code",{className:"text-sm text-slate-300",children:a}),(0,b.jsx)("button",{onClick:()=>O(a,"uri"),className:"p-2 text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)(t.Copy,{className:"w-4 h-4"})})]},a))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Scopes"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(E.allowed_scopes?.length>0?E.allowed_scopes:E.requested_scopes)?.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-900/50 rounded-lg border border-slate-700",children:[(0,b.jsx)(p.CheckCircle,{className:"w-4 h-4 text-green-400"}),(0,b.jsx)("code",{className:"text-sm text-slate-300",children:a})]},a))})]})]}),"webhooks"===I&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-12 text-center",children:[(0,b.jsx)(k.Webhook,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No webhooks configured"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Set up webhooks to receive real-time notifications about events."}),(0,b.jsx)("button",{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold",children:"Add Webhook"})]}),"analytics"===I&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-12 text-center",children:[(0,b.jsx)(l.BarChart3,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Analytics Coming Soon"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Detailed usage analytics will be available here once your app is live."})]})]})}function D(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsxs)("div",{className:"space-y-6 animate-pulse",children:[(0,b.jsx)("div",{className:"h-8 bg-slate-800 rounded-lg w-48"}),(0,b.jsx)("div",{className:"h-64 bg-slate-800/50 rounded-2xl"})]}),children:(0,b.jsx)(C,{})})}a.s(["default",()=>D])}];

//# sourceMappingURL=developer_src_app_dashboard_applications_%5Bid%5D_page_tsx_e56bef7d._.js.map