{"version":3,"sources":["../../../../../developer/src/app/dashboard/webhooks/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { useState, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport {\r\n    Webhook,\r\n    Plus,\r\n    CheckCircle,\r\n    XCircle,\r\n    Clock,\r\n    ExternalLink,\r\n    Play,\r\n    Trash2,\r\n    Edit2,\r\n    RefreshCw,\r\n    AlertCircle,\r\n    Copy,\r\n    Check,\r\n    Eye,\r\n    EyeOff,\r\n    Loader2,\r\n    Zap,\r\n    Send\r\n} from 'lucide-react'\r\nimport { devSupabase } from '@/lib/supabase'\r\n\r\ninterface WebhookEndpoint {\r\n    id: string\r\n    url: string\r\n    events: string[]\r\n    is_active: boolean\r\n    secret: string\r\n    created_at: string\r\n    last_triggered_at?: string\r\n    success_count: number\r\n    failure_count: number\r\n}\r\n\r\ninterface DeliveryLog {\r\n    id: string\r\n    event_type: string\r\n    status: 'success' | 'failed' | 'pending'\r\n    response_code?: number\r\n    delivered_at: string\r\n    duration_ms: number\r\n}\r\n\r\nconst availableEvents = [\r\n    { id: 'student.enrolled', label: 'Student Enrolled', category: 'Students' },\r\n    { id: 'student.attendance.marked', label: 'Attendance Marked', category: 'Attendance' },\r\n    { id: 'student.grade.updated', label: 'Grade Updated', category: 'Academics' },\r\n    { id: 'exam.results.published', label: 'Exam Results Published', category: 'Academics' },\r\n    { id: 'assignment.submitted', label: 'Assignment Submitted', category: 'Academics' },\r\n    { id: 'assignment.graded', label: 'Assignment Graded', category: 'Academics' },\r\n    { id: 'timetable.updated', label: 'Timetable Updated', category: 'Timetable' },\r\n    { id: 'wellness.alert', label: 'Wellness Alert', category: 'Wellbeing' },\r\n    { id: 'parent.linked', label: 'Parent Linked', category: 'Parents' },\r\n    { id: 'notification.sent', label: 'Notification Sent', category: 'Notifications' }\r\n]\r\n\r\nexport default function WebhooksPage() {\r\n    const [loading, setLoading] = useState(true)\r\n    const [applications, setApplications] = useState<any[]>([])\r\n    const [selectedApp, setSelectedApp] = useState<string>('')\r\n    const [webhooks, setWebhooks] = useState<WebhookEndpoint[]>([])\r\n    const [showCreateModal, setShowCreateModal] = useState(false)\r\n    const [showDeliveriesModal, setShowDeliveriesModal] = useState(false)\r\n    const [selectedWebhook, setSelectedWebhook] = useState<WebhookEndpoint | null>(null)\r\n    const [deliveries, setDeliveries] = useState<DeliveryLog[]>([])\r\n    const [copied, setCopied] = useState<string | null>(null)\r\n    const [showSecret, setShowSecret] = useState<{ [key: string]: boolean }>({})\r\n    const [testing, setTesting] = useState<string | null>(null)\r\n\r\n    // Form state\r\n    const [newWebhookUrl, setNewWebhookUrl] = useState('')\r\n    const [newWebhookEvents, setNewWebhookEvents] = useState<string[]>([])\r\n    const [creating, setCreating] = useState(false)\r\n\r\n    useEffect(() => {\r\n        loadData()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (selectedApp) {\r\n            loadWebhooks()\r\n        }\r\n    }, [selectedApp])\r\n\r\n    const loadData = async () => {\r\n        try {\r\n            const { data: { user } } = await devSupabase.auth.getUser()\r\n            if (!user) return\r\n\r\n            const { data: account } = await devSupabase\r\n                .from('developer_accounts')\r\n                .select('id')\r\n                .eq('auth_user_id', user.id)\r\n                .single()\r\n\r\n            if (!account) return\r\n\r\n            const { data: apps } = await devSupabase\r\n                .from('developer_applications')\r\n                .select('id, name')\r\n                .eq('developer_id', account.id)\r\n\r\n            if (apps && apps.length > 0) {\r\n                setApplications(apps)\r\n                setSelectedApp(apps[0].id)\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading data:', error)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const loadWebhooks = async () => {\r\n        try {\r\n            const { data } = await devSupabase\r\n                .from('developer_webhooks')\r\n                .select('*')\r\n                .eq('application_id', selectedApp)\r\n                .order('created_at', { ascending: false })\r\n\r\n            if (data) {\r\n                setWebhooks(data)\r\n            } else {\r\n                // Sample data\r\n                setWebhooks([\r\n                    {\r\n                        id: 'wh_001',\r\n                        url: 'https://api.myapp.com/webhooks/catalyst',\r\n                        events: ['student.attendance.marked', 'student.grade.updated'],\r\n                        is_active: true,\r\n                        secret: 'whsec_abcd1234efgh5678',\r\n                        created_at: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),\r\n                        last_triggered_at: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\r\n                        success_count: 1245,\r\n                        failure_count: 3\r\n                    }\r\n                ])\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading webhooks:', error)\r\n        }\r\n    }\r\n\r\n    const handleCreateWebhook = async () => {\r\n        if (!newWebhookUrl || newWebhookEvents.length === 0) return\r\n\r\n        setCreating(true)\r\n        try {\r\n            const secret = 'whsec_' + crypto.randomUUID().replace(/-/g, '').slice(0, 24)\r\n\r\n            const { data, error } = await devSupabase\r\n                .from('developer_webhooks')\r\n                .insert({\r\n                    application_id: selectedApp,\r\n                    url: newWebhookUrl,\r\n                    events: newWebhookEvents,\r\n                    secret,\r\n                    is_active: true\r\n                })\r\n                .select()\r\n                .single()\r\n\r\n            if (error) throw error\r\n\r\n            setWebhooks([data, ...webhooks])\r\n            setShowCreateModal(false)\r\n            setNewWebhookUrl('')\r\n            setNewWebhookEvents([])\r\n        } catch (error) {\r\n            console.error('Error creating webhook:', error)\r\n        } finally {\r\n            setCreating(false)\r\n        }\r\n    }\r\n\r\n    const handleTestWebhook = async (webhook: WebhookEndpoint) => {\r\n        setTesting(webhook.id)\r\n        try {\r\n            await fetch(`/api/webhooks/${webhook.id}/test`, {\r\n                method: 'POST'\r\n            })\r\n            await new Promise(resolve => setTimeout(resolve, 1500))\r\n        } catch (error) {\r\n            console.error('Error testing webhook:', error)\r\n        } finally {\r\n            setTesting(null)\r\n        }\r\n    }\r\n\r\n    const handleToggleActive = async (webhook: WebhookEndpoint) => {\r\n        try {\r\n            await devSupabase\r\n                .from('developer_webhooks')\r\n                .update({ is_active: !webhook.is_active })\r\n                .eq('id', webhook.id)\r\n\r\n            setWebhooks(webhooks.map(w =>\r\n                w.id === webhook.id ? { ...w, is_active: !w.is_active } : w\r\n            ))\r\n        } catch (error) {\r\n            console.error('Error toggling webhook:', error)\r\n        }\r\n    }\r\n\r\n    const handleDeleteWebhook = async (webhookId: string) => {\r\n        if (!confirm('Are you sure you want to delete this webhook?')) return\r\n\r\n        try {\r\n            await devSupabase\r\n                .from('developer_webhooks')\r\n                .delete()\r\n                .eq('id', webhookId)\r\n\r\n            setWebhooks(webhooks.filter(w => w.id !== webhookId))\r\n        } catch (error) {\r\n            console.error('Error deleting webhook:', error)\r\n        }\r\n    }\r\n\r\n    const viewDeliveries = async (webhook: WebhookEndpoint) => {\r\n        setSelectedWebhook(webhook)\r\n        setShowDeliveriesModal(true)\r\n\r\n        try {\r\n            const response = await fetch(`/api/webhooks/${webhook.id}/deliveries`)\r\n            if (response.ok) {\r\n                const data = await response.json()\r\n                setDeliveries(data.deliveries || [])\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading deliveries:', error)\r\n            // Sample data\r\n            setDeliveries([\r\n                {\r\n                    id: 'del_001',\r\n                    event_type: 'student.attendance.marked',\r\n                    status: 'success',\r\n                    response_code: 200,\r\n                    delivered_at: new Date(Date.now() - 30 * 60 * 1000).toISOString(),\r\n                    duration_ms: 145\r\n                },\r\n                {\r\n                    id: 'del_002',\r\n                    event_type: 'student.grade.updated',\r\n                    status: 'success',\r\n                    response_code: 200,\r\n                    delivered_at: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\r\n                    duration_ms: 232\r\n                },\r\n                {\r\n                    id: 'del_003',\r\n                    event_type: 'student.attendance.marked',\r\n                    status: 'failed',\r\n                    response_code: 500,\r\n                    delivered_at: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\r\n                    duration_ms: 5000\r\n                }\r\n            ])\r\n        }\r\n    }\r\n\r\n    const copySecret = async (secret: string, id: string) => {\r\n        await navigator.clipboard.writeText(secret)\r\n        setCopied(id)\r\n        setTimeout(() => setCopied(null), 2000)\r\n    }\r\n\r\n    const getSuccessRate = (webhook: WebhookEndpoint) => {\r\n        const total = webhook.success_count + webhook.failure_count\r\n        if (total === 0) return 100\r\n        return Math.round((webhook.success_count / total) * 100)\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-96\">\r\n                <div className=\"flex flex-col items-center gap-4\">\r\n                    <Loader2 className=\"w-8 h-8 text-blue-500 animate-spin\" />\r\n                    <p className=\"text-slate-400\">Loading webhooks...</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-2xl sm:text-3xl font-bold text-white flex items-center gap-3\">\r\n                        <Webhook className=\"w-8 h-8 text-purple-400\" />\r\n                        Webhooks\r\n                    </h1>\r\n                    <p className=\"text-slate-400 mt-1\">\r\n                        Receive real-time event notifications via HTTP callbacks\r\n                    </p>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                    {applications.length > 0 && (\r\n                        <select\r\n                            value={selectedApp}\r\n                            onChange={(e) => setSelectedApp(e.target.value)}\r\n                            className=\"px-4 py-2 bg-slate-800 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20\"\r\n                        >\r\n                            {applications.map((app) => (\r\n                                <option key={app.id} value={app.id}>{app.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    )}\r\n                    <button\r\n                        onClick={() => setShowCreateModal(true)}\r\n                        className=\"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-xl font-semibold text-sm transition-all\"\r\n                    >\r\n                        <Plus className=\"w-4 h-4\" />\r\n                        Add Webhook\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Stats */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-6\">\r\n                <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"p-3 bg-purple-500/20 rounded-xl\">\r\n                            <Webhook className=\"w-6 h-6 text-purple-400\" />\r\n                        </div>\r\n                        <div>\r\n                            <p className=\"text-2xl font-bold text-white\">{webhooks.length}</p>\r\n                            <p className=\"text-sm text-slate-400\">Total Webhooks</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"p-3 bg-green-500/20 rounded-xl\">\r\n                            <Zap className=\"w-6 h-6 text-green-400\" />\r\n                        </div>\r\n                        <div>\r\n                            <p className=\"text-2xl font-bold text-white\">\r\n                                {webhooks.reduce((sum, w) => sum + w.success_count, 0).toLocaleString()}\r\n                            </p>\r\n                            <p className=\"text-sm text-slate-400\">Deliveries (30d)</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"p-3 bg-emerald-500/20 rounded-xl\">\r\n                            <CheckCircle className=\"w-6 h-6 text-emerald-400\" />\r\n                        </div>\r\n                        <div>\r\n                            <p className=\"text-2xl font-bold text-white\">\r\n                                {webhooks.length > 0\r\n                                    ? Math.round(webhooks.reduce((sum, w) => sum + getSuccessRate(w), 0) / webhooks.length)\r\n                                    : 100}%\r\n                            </p>\r\n                            <p className=\"text-sm text-slate-400\">Success Rate</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Webhooks List */}\r\n            <div className=\"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl overflow-hidden\">\r\n                <div className=\"p-6 border-b border-slate-700\">\r\n                    <h2 className=\"text-lg font-semibold text-white\">Configured Webhooks</h2>\r\n                </div>\r\n\r\n                {webhooks.length === 0 ? (\r\n                    <div className=\"p-12 text-center\">\r\n                        <Webhook className=\"w-12 h-12 text-slate-500 mx-auto mb-4\" />\r\n                        <h3 className=\"text-lg font-medium text-white mb-2\">No webhooks configured</h3>\r\n                        <p className=\"text-slate-400 mb-6 max-w-md mx-auto\">\r\n                            Add a webhook endpoint to receive real-time notifications when events occur.\r\n                        </p>\r\n                        <button\r\n                            onClick={() => setShowCreateModal(true)}\r\n                            className=\"inline-flex items-center gap-2 px-5 py-2.5 bg-purple-600 text-white rounded-xl font-semibold\"\r\n                        >\r\n                            <Plus className=\"w-4 h-4\" />\r\n                            Add Your First Webhook\r\n                        </button>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"divide-y divide-slate-700/50\">\r\n                        {webhooks.map((webhook) => (\r\n                            <motion.div\r\n                                key={webhook.id}\r\n                                initial={{ opacity: 0 }}\r\n                                animate={{ opacity: 1 }}\r\n                                className=\"p-6 hover:bg-slate-700/20 transition-colors\"\r\n                            >\r\n                                <div className=\"flex items-start justify-between mb-4\">\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <div className=\"flex items-center gap-3 mb-2\">\r\n                                            <span className={`w-2 h-2 rounded-full ${webhook.is_active ? 'bg-green-500' : 'bg-slate-500'}`} />\r\n                                            <code className=\"text-sm text-blue-400 bg-blue-500/10 px-3 py-1 rounded-lg truncate max-w-lg\">\r\n                                                {webhook.url}\r\n                                            </code>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-4 text-sm text-slate-400\">\r\n                                            <span>Created {new Date(webhook.created_at).toLocaleDateString()}</span>\r\n                                            {webhook.last_triggered_at && (\r\n                                                <span>Last triggered {new Date(webhook.last_triggered_at).toLocaleDateString()}</span>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <button\r\n                                            onClick={() => handleTestWebhook(webhook)}\r\n                                            disabled={testing === webhook.id}\r\n                                            className=\"p-2 text-slate-400 hover:text-green-400 hover:bg-green-500/10 rounded-lg transition-colors\"\r\n                                            title=\"Test webhook\"\r\n                                        >\r\n                                            {testing === webhook.id ? (\r\n                                                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                                            ) : (\r\n                                                <Send className=\"w-5 h-5\" />\r\n                                            )}\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => viewDeliveries(webhook)}\r\n                                            className=\"p-2 text-slate-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-colors\"\r\n                                            title=\"View delivery logs\"\r\n                                        >\r\n                                            <Clock className=\"w-5 h-5\" />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleToggleActive(webhook)}\r\n                                            className={`p-2 rounded-lg transition-colors ${webhook.is_active\r\n                                                    ? 'text-green-400 hover:bg-green-500/10'\r\n                                                    : 'text-slate-400 hover:bg-slate-700'\r\n                                                }`}\r\n                                            title={webhook.is_active ? 'Disable' : 'Enable'}\r\n                                        >\r\n                                            {webhook.is_active ? <Eye className=\"w-5 h-5\" /> : <EyeOff className=\"w-5 h-5\" />}\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleDeleteWebhook(webhook.id)}\r\n                                            className=\"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors\"\r\n                                            title=\"Delete webhook\"\r\n                                        >\r\n                                            <Trash2 className=\"w-5 h-5\" />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Events */}\r\n                                <div className=\"mb-4\">\r\n                                    <p className=\"text-xs text-slate-500 mb-2\">Subscribed Events:</p>\r\n                                    <div className=\"flex flex-wrap gap-2\">\r\n                                        {webhook.events.map((event) => (\r\n                                            <span key={event} className=\"text-xs bg-purple-500/10 text-purple-400 px-2 py-1 rounded border border-purple-500/20\">\r\n                                                {event}\r\n                                            </span>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Secret & Stats */}\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <span className=\"text-xs text-slate-500\">Secret:</span>\r\n                                        <code className=\"text-xs text-slate-400 bg-slate-700/50 px-2 py-1 rounded font-mono\">\r\n                                            {showSecret[webhook.id] ? webhook.secret : '••••••••••••••••'}\r\n                                        </code>\r\n                                        <button\r\n                                            onClick={() => setShowSecret({ ...showSecret, [webhook.id]: !showSecret[webhook.id] })}\r\n                                            className=\"p-1 text-slate-500 hover:text-slate-300\"\r\n                                        >\r\n                                            {showSecret[webhook.id] ? <EyeOff className=\"w-3 h-3\" /> : <Eye className=\"w-3 h-3\" />}\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => copySecret(webhook.secret, webhook.id)}\r\n                                            className=\"p-1 text-slate-500 hover:text-slate-300\"\r\n                                        >\r\n                                            {copied === webhook.id ? <Check className=\"w-3 h-3 text-green-400\" /> : <Copy className=\"w-3 h-3\" />}\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-4 text-sm\">\r\n                                        <span className=\"text-green-400\">\r\n                                            {webhook.success_count.toLocaleString()} ✓\r\n                                        </span>\r\n                                        <span className=\"text-red-400\">\r\n                                            {webhook.failure_count} ✗\r\n                                        </span>\r\n                                        <span className={`font-medium ${getSuccessRate(webhook) >= 99 ? 'text-green-400' : getSuccessRate(webhook) >= 95 ? 'text-yellow-400' : 'text-red-400'}`}>\r\n                                            {getSuccessRate(webhook)}% success\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Create Modal */}\r\n            <AnimatePresence>\r\n                {showCreateModal && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\"\r\n                        onClick={() => setShowCreateModal(false)}\r\n                    >\r\n                        <motion.div\r\n                            initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                            exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                            className=\"w-full max-w-lg bg-slate-800 border border-slate-700 rounded-2xl shadow-xl max-h-[90vh] overflow-y-auto\"\r\n                            onClick={(e) => e.stopPropagation()}\r\n                        >\r\n                            <div className=\"p-6 border-b border-slate-700\">\r\n                                <h2 className=\"text-xl font-semibold text-white\">Add Webhook Endpoint</h2>\r\n                                <p className=\"text-sm text-slate-400 mt-1\">Configure a new webhook to receive events</p>\r\n                            </div>\r\n\r\n                            <div className=\"p-6 space-y-6\">\r\n                                {/* URL */}\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">\r\n                                        Endpoint URL *\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"url\"\r\n                                        value={newWebhookUrl}\r\n                                        onChange={(e) => setNewWebhookUrl(e.target.value)}\r\n                                        placeholder=\"https://your-app.com/webhooks/catalyst\"\r\n                                        className=\"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20\"\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Events */}\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">\r\n                                        Events to Subscribe *\r\n                                    </label>\r\n                                    <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n                                        {Object.entries(\r\n                                            availableEvents.reduce((acc, event) => {\r\n                                                if (!acc[event.category]) acc[event.category] = []\r\n                                                acc[event.category].push(event)\r\n                                                return acc\r\n                                            }, {} as Record<string, typeof availableEvents>)\r\n                                        ).map(([category, events]) => (\r\n                                            <div key={category}>\r\n                                                <p className=\"text-xs text-slate-500 font-medium mb-1 px-1\">{category}</p>\r\n                                                {events.map((event) => (\r\n                                                    <label\r\n                                                        key={event.id}\r\n                                                        className={`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors ${newWebhookEvents.includes(event.id)\r\n                                                                ? 'bg-purple-500/20 border border-purple-500/30'\r\n                                                                : 'hover:bg-slate-700/30'\r\n                                                            }`}\r\n                                                    >\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            checked={newWebhookEvents.includes(event.id)}\r\n                                                            onChange={(e) => {\r\n                                                                if (e.target.checked) {\r\n                                                                    setNewWebhookEvents([...newWebhookEvents, event.id])\r\n                                                                } else {\r\n                                                                    setNewWebhookEvents(newWebhookEvents.filter(id => id !== event.id))\r\n                                                                }\r\n                                                            }}\r\n                                                            className=\"w-4 h-4 rounded border-slate-600 bg-slate-900 text-purple-500 focus:ring-purple-500\"\r\n                                                        />\r\n                                                        <span className=\"text-sm text-slate-300\">{event.label}</span>\r\n                                                    </label>\r\n                                                ))}\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"p-6 border-t border-slate-700 flex items-center justify-end gap-3\">\r\n                                <button\r\n                                    onClick={() => setShowCreateModal(false)}\r\n                                    className=\"px-4 py-2 text-slate-300 hover:text-white transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    onClick={handleCreateWebhook}\r\n                                    disabled={creating || !newWebhookUrl || newWebhookEvents.length === 0}\r\n                                    className=\"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-slate-600 disabled:to-slate-600 text-white rounded-xl font-semibold text-sm transition-all\"\r\n                                >\r\n                                    {creating ? (\r\n                                        <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                                    ) : (\r\n                                        <Plus className=\"w-4 h-4\" />\r\n                                    )}\r\n                                    <span>{creating ? 'Creating...' : 'Create Webhook'}</span>\r\n                                </button>\r\n                            </div>\r\n                        </motion.div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            {/* Deliveries Modal */}\r\n            <AnimatePresence>\r\n                {showDeliveriesModal && selectedWebhook && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\"\r\n                        onClick={() => setShowDeliveriesModal(false)}\r\n                    >\r\n                        <motion.div\r\n                            initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                            exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                            className=\"w-full max-w-2xl bg-slate-800 border border-slate-700 rounded-2xl shadow-xl\"\r\n                            onClick={(e) => e.stopPropagation()}\r\n                        >\r\n                            <div className=\"p-6 border-b border-slate-700\">\r\n                                <h2 className=\"text-xl font-semibold text-white\">Delivery Logs</h2>\r\n                                <p className=\"text-sm text-slate-400 mt-1 truncate\">{selectedWebhook.url}</p>\r\n                            </div>\r\n\r\n                            <div className=\"max-h-96 overflow-y-auto\">\r\n                                {deliveries.length === 0 ? (\r\n                                    <div className=\"p-8 text-center text-slate-400\">\r\n                                        No delivery logs yet\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"divide-y divide-slate-700/50\">\r\n                                        {deliveries.map((delivery) => (\r\n                                            <div key={delivery.id} className=\"p-4 hover:bg-slate-700/20 transition-colors\">\r\n                                                <div className=\"flex items-center justify-between\">\r\n                                                    <div className=\"flex items-center gap-3\">\r\n                                                        {delivery.status === 'success' ? (\r\n                                                            <CheckCircle className=\"w-5 h-5 text-green-400\" />\r\n                                                        ) : (\r\n                                                            <XCircle className=\"w-5 h-5 text-red-400\" />\r\n                                                        )}\r\n                                                        <div>\r\n                                                            <p className=\"text-sm font-medium text-white\">{delivery.event_type}</p>\r\n                                                            <p className=\"text-xs text-slate-400\">\r\n                                                                {new Date(delivery.delivered_at).toLocaleString()}\r\n                                                            </p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"flex items-center gap-4 text-sm\">\r\n                                                        <span className={`${delivery.response_code && delivery.response_code < 400 ? 'text-green-400' : 'text-red-400'}`}>\r\n                                                            {delivery.response_code || 'N/A'}\r\n                                                        </span>\r\n                                                        <span className=\"text-slate-400\">{delivery.duration_ms}ms</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            <div className=\"p-4 border-t border-slate-700\">\r\n                                <button\r\n                                    onClick={() => setShowDeliveriesModal(false)}\r\n                                    className=\"w-full py-2 text-center text-slate-400 hover:text-white transition-colors\"\r\n                                >\r\n                                    Close\r\n                                </button>\r\n                            </div>\r\n                        </motion.div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}