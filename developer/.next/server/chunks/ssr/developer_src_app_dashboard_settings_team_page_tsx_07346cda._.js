module.exports=[69389,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(60246),g=a.i(15618),h=a.i(92258),i=a.i(3314),j=a.i(36265),k=a.i(81560),l=a.i(95756),m=a.i(41710),n=a.i(54018),o=a.i(92759),p=a.i(69520);let q=(0,a.i(70106).default)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);var r=a.i(46842),s=a.i(77156),t=a.i(16501);let u=[{id:"admin",name:"Admin",description:"Full access to all apps and settings",color:"text-purple-400"},{id:"developer",name:"Developer",description:"Can manage apps and view analytics",color:"text-blue-400"},{id:"viewer",name:"Viewer",description:"Read-only access to apps and analytics",color:"text-slate-400"}];function v(){let[a,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)("developer"),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let{data:{user:a}}=await t.devSupabase.auth.getUser();if(!a)return;let{data:b}=await t.devSupabase.from("developer_accounts").select("*").eq("auth_user_id",a.id).single();if(b){L(b);let{data:a}=await t.devSupabase.from("developer_team_members").select("*").eq("developer_id",b.id).order("joined_at",{ascending:!0});a&&x(a);let{data:c}=await t.devSupabase.from("developer_team_invitations").select("*").eq("developer_id",b.id).eq("status","pending").order("created_at",{ascending:!1});c&&z(c)}}catch(a){console.error("Error loading team:",a)}finally{v(!1)}})()},[]);let M=async()=>{if(C&&K){H(!0);try{let a=new Date;a.setDate(a.getDate()+7);let{data:b,error:c}=await t.devSupabase.from("developer_team_invitations").insert({developer_id:K.id,email:C,role:E,status:"pending",expires_at:a.toISOString(),invited_by:K.id}).select().single();if(c)throw c;z([b,...y]),B(!1),D(""),F("developer")}catch(a){console.error("Error sending invite:",a)}finally{H(!1)}}},N=async a=>{try{await t.devSupabase.from("developer_team_invitations").update({status:"cancelled"}).eq("id",a),z(y.filter(b=>b.id!==a))}catch(a){console.error("Error cancelling invite:",a)}},O=async a=>{if(confirm("Are you sure you want to remove this team member?"))try{await t.devSupabase.from("developer_team_members").delete().eq("id",a),x(w.filter(b=>b.id!==a))}catch(a){console.error("Error removing member:",a)}},P=async(a,b)=>{try{await t.devSupabase.from("developer_team_members").update({role:b}).eq("id",a),x(w.map(c=>c.id===a?{...c,role:b}:c)),J(null)}catch(a){console.error("Error updating role:",a)}},Q=a=>{switch(a){case"owner":return"text-amber-400 bg-amber-500/20";case"admin":return"text-purple-400 bg-purple-500/20";case"developer":return"text-blue-400 bg-blue-500/20";default:return"text-slate-400 bg-slate-500/20"}};return a?(0,b.jsxs)("div",{className:"space-y-6 animate-pulse",children:[(0,b.jsx)("div",{className:"h-10 bg-slate-800 rounded-lg w-1/3"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-6",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-24 bg-slate-800/50 rounded-2xl"},c))}),(0,b.jsx)("div",{className:"h-96 bg-slate-800/50 rounded-2xl"})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Team Members"}),(0,b.jsx)("p",{className:"text-slate-400 mt-1",children:"Manage your team and their access permissions"})]}),(0,b.jsxs)("button",{onClick:()=>B(!0),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold text-sm transition-all",children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Invite Member"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:(0,b.jsx)(f.Users,{className:"w-6 h-6 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:w.length+1}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Team Members"})]})]})}),(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-xl",children:(0,b.jsx)(m.Clock,{className:"w-6 h-6 text-yellow-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:y.length}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Pending Invites"})]})]})}),(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-xl",children:(0,b.jsx)(i.Shield,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:w.filter(a=>"admin"===a.role).length+1}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Admins"})]})]})})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Active Members"})}),(0,b.jsxs)("div",{className:"divide-y divide-slate-700/50",children:[(0,b.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white font-semibold",children:K?.full_name?.charAt(0)||"O"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium text-white",children:K?.full_name||"You"}),(0,b.jsx)("span",{className:"text-xs text-amber-400",children:"(You)"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:K?.email})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-lg text-sm font-medium ${Q("owner")}`,children:[(0,b.jsx)(q,{className:"w-4 h-4"}),"Owner"]})})]}),w.map(a=>{let c=(a=>{switch(a){case"owner":return q;case"admin":return i.Shield;case"developer":default:return r.User;case"viewer":return s.Eye}})(a.role);return(0,b.jsxs)("div",{className:"p-6 flex items-center justify-between hover:bg-slate-700/20 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:a.avatar_url?(0,b.jsx)("img",{src:a.avatar_url,alt:"",className:"w-full h-full rounded-xl object-cover"}):a.full_name?.charAt(0)||a.email.charAt(0).toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-white",children:a.full_name||"Unnamed"}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-lg text-sm font-medium ${Q(a.role)}`,children:[(0,b.jsx)(c,{className:"w-4 h-4"}),a.role.charAt(0).toUpperCase()+a.role.slice(1)]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{onClick:()=>J(I===a.id?null:a.id),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(j.MoreVertical,{className:"w-5 h-5"})}),(0,b.jsx)(e.AnimatePresence,{children:I===a.id&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl overflow-hidden z-10",children:[(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsx)("p",{className:"px-3 py-1.5 text-xs text-slate-500 font-medium",children:"Change Role"}),u.map(c=>(0,b.jsxs)("button",{onClick:()=>P(a.id,c.id),className:`flex items-center gap-2 w-full px-3 py-2 text-sm rounded-lg transition-colors ${a.role===c.id?"bg-blue-500/20 text-blue-400":"text-slate-300 hover:bg-slate-700/50"}`,children:[a.role===c.id&&(0,b.jsx)(l.CheckCircle,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:c.name})]},c.id))]}),(0,b.jsx)("div",{className:"border-t border-slate-700 p-2",children:(0,b.jsxs)("button",{onClick:()=>O(a.id),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg",children:[(0,b.jsx)(k.Trash2,{className:"w-4 h-4"}),"Remove Member"]})})]})})]})]})]},a.id)}),0===w.length&&(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)(f.Users,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No team members yet"}),(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:"Invite team members to collaborate on your applications."}),(0,b.jsxs)("button",{onClick:()=>B(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-sm font-medium",children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4"}),"Invite Member"]})]})]})]}),y.length>0&&(0,b.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Pending Invitations"})}),(0,b.jsx)("div",{className:"divide-y divide-slate-700/50",children:y.map(a=>(0,b.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-slate-700 flex items-center justify-center",children:(0,b.jsx)(h.Mail,{className:"w-6 h-6 text-slate-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-white",children:a.email}),(0,b.jsxs)("p",{className:"text-sm text-slate-400",children:["Invited as ",a.role," â€¢ Expires ",new Date(a.expires_at).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-lg text-xs font-medium",children:[(0,b.jsx)(m.Clock,{className:"w-3 h-3"}),"Pending"]}),(0,b.jsx)("button",{onClick:()=>N(a.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:(0,b.jsx)(n.XCircle,{className:"w-5 h-5"})})]})]},a.id))})]}),(0,b.jsx)(e.AnimatePresence,{children:A&&(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>B(!1),children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"w-full max-w-md bg-slate-800 border border-slate-700 rounded-2xl shadow-xl",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Invite Team Member"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Send an invitation to join your team"})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Mail,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"email",value:C,onChange:a=>D(a.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",placeholder:"colleague@company.com"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Role"}),(0,b.jsx)("div",{className:"space-y-2",children:u.map(a=>(0,b.jsxs)("button",{onClick:()=>F(a.id),className:`w-full flex items-start gap-3 p-4 rounded-xl border transition-colors ${E===a.id?"bg-blue-500/20 border-blue-500/50":"bg-slate-900/50 border-slate-700 hover:border-slate-600"}`,children:[(0,b.jsx)("div",{className:`mt-0.5 w-5 h-5 rounded-full border-2 flex items-center justify-center ${E===a.id?"border-blue-500 bg-blue-500":"border-slate-600"}`,children:E===a.id&&(0,b.jsx)(l.CheckCircle,{className:"w-3 h-3 text-white"})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:`font-medium ${E===a.id?"text-white":"text-slate-300"}`,children:a.name}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:a.description})]})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-700 flex items-center justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>B(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:M,disabled:G||!C,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-slate-600 disabled:to-slate-600 text-white rounded-xl font-semibold text-sm transition-all",children:[G?(0,b.jsx)(p.RefreshCw,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(o.Send,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:G?"Sending...":"Send Invitation"})]})]})]})})})]})}a.s(["default",()=>v],69389)}];

//# sourceMappingURL=developer_src_app_dashboard_settings_team_page_tsx_07346cda._.js.map