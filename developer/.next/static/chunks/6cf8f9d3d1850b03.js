(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39312,e=>{"use strict";let t=(0,e.i(75254).default)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);e.s(["Zap",()=>t],39312)},5631,e=>{"use strict";let t=(0,e.i(75254).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],5631)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},74886,e=>{"use strict";let t=(0,e.i(75254).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},59607,e=>{"use strict";let t=(0,e.i(75254).default)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],59607)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},65987,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),i=e.i(22016),r=e.i(53305),l=e.i(74886),n=e.i(43531),d=e.i(98919),c=e.i(39312),o=e.i(16715),h=e.i(3116),x=e.i(5631),m=e.i(59607),p=e.i(63059),u=e.i(45423),y=e.i(70756);let f=[{category:"Student Events",events:[{name:"student.created",description:"A new student was added"},{name:"student.updated",description:"Student profile was modified"},{name:"student.deleted",description:"Student was removed from the system"}]},{category:"Attendance Events",events:[{name:"attendance.marked",description:"Attendance was marked for a student"},{name:"attendance.updated",description:"Attendance record was modified"},{name:"attendance.bulk_marked",description:"Bulk attendance was processed"}]},{category:"Academic Events",events:[{name:"grade.published",description:"New grades were published"},{name:"grade.updated",description:"Grade was modified"},{name:"report.generated",description:"Report card was generated"}]},{category:"Wellbeing Events",events:[{name:"wellbeing.alert",description:"Wellbeing alert was triggered"},{name:"mood.logged",description:"Student logged their mood"},{name:"behavior.recorded",description:"Behavior note was added"}]},{category:"Authorization Events",events:[{name:"consent.granted",description:"User granted consent to your app"},{name:"consent.revoked",description:"User revoked consent"},{name:"token.refreshed",description:"Access token was refreshed"}]}],g=[{icon:c.Zap,title:"Real-time Delivery",description:"Events are delivered within seconds of occurrence"},{icon:o.RefreshCw,title:"Automatic Retries",description:"Failed deliveries are retried with exponential backoff"},{icon:d.Shield,title:"Signature Verification",description:"All payloads are signed for authenticity"},{icon:h.Clock,title:"Event History",description:"30-day history of all webhook deliveries"}];function b(){let[e,d]=(0,s.useState)(null),c=async(e,t)=>{await navigator.clipboard.writeText(e),d(t),setTimeout(()=>d(null),2e3)},o=`{
  "id": "evt_abc123xyz",
  "type": "attendance.marked",
  "created": "2026-01-16T10:30:00Z",
  "data": {
    "student_id": "stu_123",
    "student_name": "John Doe",
    "class_id": "cls_456",
    "date": "2026-01-16",
    "status": "present",
    "marked_by": "teacher_789",
    "marked_at": "2026-01-16T10:30:00Z"
  },
  "school": {
    "id": "sch_001",
    "name": "Demo High School"
  }
}`,h=`import crypto from 'crypto';

function verifyWebhookSignature(payload, signature, secret) {
  const expectedSignature = crypto
    .createHmac('sha256', secret)
    .update(payload)
    .digest('hex');
  
  return crypto.timingSafeEqual(
    Buffer.from(signature),
    Buffer.from(\`sha256=\${expectedSignature}\`)
  );
}

// In your webhook handler
app.post('/webhooks', (req, res) => {
  const signature = req.headers['x-catalystwells-signature'];
  const payload = JSON.stringify(req.body);
  
  if (!verifyWebhookSignature(payload, signature, WEBHOOK_SECRET)) {
    return res.status(401).send('Invalid signature');
  }
  
  // Process the webhook
  const event = req.body;
  console.log(\`Received event: \${event.type}\`);
  
  // Acknowledge receipt
  res.status(200).send('OK');
});`,b=`import hmac
import hashlib
from flask import Flask, request

app = Flask(__name__)
WEBHOOK_SECRET = 'your_webhook_secret'

def verify_signature(payload, signature, secret):
    expected = hmac.new(
        secret.encode(),
        payload.encode(),
        hashlib.sha256
    ).hexdigest()
    return hmac.compare_digest(f'sha256={expected}', signature)

@app.route('/webhooks', methods=['POST'])
def handle_webhook():
    signature = request.headers.get('X-CatalystWells-Signature')
    payload = request.get_data(as_text=True)
    
    if not verify_signature(payload, signature, WEBHOOK_SECRET):
        return 'Invalid signature', 401
    
    event = request.get_json()
    print(f"Received event: {event['type']}")
    
    return 'OK', 200`;return(0,t.jsxs)("div",{className:"max-w-5xl mx-auto space-y-10",children:[(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"p-2.5 bg-purple-500/10 rounded-xl",children:(0,t.jsx)(r.Webhook,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:"Webhooks"})]}),(0,t.jsx)("p",{className:"text-lg text-slate-400 max-w-3xl",children:"Receive real-time notifications when events occur in connected schools. Webhooks enable you to build reactive integrations without polling."})]}),(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:g.map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/30 border border-slate-700/50 rounded-xl p-4",children:[(0,t.jsx)(e.icon,{className:"w-6 h-6 text-purple-400 mb-2"}),(0,t.jsx)("h3",{className:"font-medium text-white text-sm",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:e.description})]},s))}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-gradient-to-br from-purple-600/10 to-pink-600/10 border border-purple-500/20 rounded-2xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Setup"}),(0,t.jsxs)("ol",{className:"space-y-4",children:[(0,t.jsxs)("li",{className:"flex items-start gap-4",children:[(0,t.jsx)("span",{className:"w-6 h-6 bg-purple-500/20 text-purple-400 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0",children:"1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Create an endpoint"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Set up a publicly accessible HTTPS URL to receive webhooks"})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-4",children:[(0,t.jsx)("span",{className:"w-6 h-6 bg-purple-500/20 text-purple-400 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0",children:"2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Register your webhook"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Add your endpoint URL in the dashboard and select events"})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-4",children:[(0,t.jsx)("span",{className:"w-6 h-6 bg-purple-500/20 text-purple-400 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0",children:"3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Verify signatures"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Use your webhook secret to verify payload authenticity"})]})]})]}),(0,t.jsxs)(i.default,{href:"/dashboard/webhooks",className:"inline-flex items-center gap-2 mt-6 px-5 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-semibold text-sm transition-colors",children:[(0,t.jsx)(u.Bell,{className:"w-4 h-4"}),"Configure Webhooks"]})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Event Types"}),(0,t.jsx)("div",{className:"space-y-4",children:f.map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"px-5 py-3 bg-slate-900/50 border-b border-slate-700/50",children:(0,t.jsx)("h3",{className:"font-semibold text-white",children:e.category})}),(0,t.jsx)("div",{className:"divide-y divide-slate-700/30",children:e.events.map((e,s)=>(0,t.jsxs)("div",{className:"px-5 py-3 flex items-center justify-between hover:bg-slate-700/20",children:[(0,t.jsx)("code",{className:"text-sm text-purple-400 font-mono",children:e.name}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:e.description})]},s))})]},s))})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Payload Structure"}),(0,t.jsx)("p",{className:"text-slate-400",children:"All webhook payloads follow a consistent structure with event metadata and data."}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 border-b border-slate-700/50",children:[(0,t.jsx)("span",{className:"text-sm text-slate-400 font-mono",children:"Example Payload"}),(0,t.jsx)("button",{onClick:()=>c(o,"payload"),className:"flex items-center gap-1.5 text-xs text-slate-400 hover:text-white",children:"payload"===e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Check,{className:"w-3.5 h-3.5 text-green-400"}),(0,t.jsx)("span",{className:"text-green-400",children:"Copied!"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Copy,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:"Copy"})]})})]}),(0,t.jsx)("pre",{className:"p-5 overflow-x-auto",children:(0,t.jsx)("code",{className:"text-sm text-slate-300 font-mono",children:o})})]})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(y.Lock,{className:"w-6 h-6 text-green-400"}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Signature Verification"})]}),(0,t.jsxs)("p",{className:"text-slate-400",children:["Every webhook request includes a signature in the ",(0,t.jsx)("code",{className:"text-blue-400",children:"X-CatalystWells-Signature"})," header. Always verify this signature before processing events."]}),(0,t.jsxs)("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 flex items-start gap-3",children:[(0,t.jsx)(m.AlertTriangle,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-amber-300 font-medium",children:"Security Warning"}),(0,t.jsx)("p",{className:"text-sm text-amber-200/80 mt-1",children:"Never skip signature verification in production. Unverified webhooks can lead to security vulnerabilities."})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 border-b border-slate-700/50",children:[(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"JavaScript / Node.js"}),(0,t.jsx)("button",{onClick:()=>c(h,"js-verify"),className:"flex items-center gap-1.5 text-xs text-slate-400 hover:text-white",children:"js-verify"===e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Check,{className:"w-3.5 h-3.5 text-green-400"}),(0,t.jsx)("span",{className:"text-green-400",children:"Copied!"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Copy,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:"Copy"})]})})]}),(0,t.jsx)("pre",{className:"p-5 overflow-x-auto max-h-96 sidebar-scroll",children:(0,t.jsx)("code",{className:"text-sm text-slate-300 font-mono",children:h})})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 border-b border-slate-700/50",children:[(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Python / Flask"}),(0,t.jsx)("button",{onClick:()=>c(b,"py-verify"),className:"flex items-center gap-1.5 text-xs text-slate-400 hover:text-white",children:"py-verify"===e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Check,{className:"w-3.5 h-3.5 text-green-400"}),(0,t.jsx)("span",{className:"text-green-400",children:"Copied!"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Copy,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:"Copy"})]})})]}),(0,t.jsx)("pre",{className:"p-5 overflow-x-auto max-h-80 sidebar-scroll",children:(0,t.jsx)("code",{className:"text-sm text-slate-300 font-mono",children:b})})]})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Best Practices"}),(0,t.jsxs)("ul",{className:"space-y-3",children:[(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)(x.CheckCircle,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Respond quickly"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Return a 2xx response within 30 seconds. Process events asynchronously."})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)(x.CheckCircle,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Handle duplicates"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Events may be delivered multiple times. Use the event ID for idempotency."})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)(x.CheckCircle,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Use HTTPS"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Webhook endpoints must use HTTPS with a valid SSL certificate."})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)(x.CheckCircle,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Monitor deliveries"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Check the webhook logs dashboard to debug delivery issues."})]})]})]})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center justify-between pt-6 border-t border-slate-700/50",children:[(0,t.jsx)(i.default,{href:"/dashboard/docs/authentication",className:"text-slate-400 hover:text-white transition-colors",children:"â† Authentication"}),(0,t.jsxs)(i.default,{href:"/dashboard/docs/scopes",className:"text-blue-400 hover:text-blue-300 transition-colors flex items-center gap-1",children:["OAuth Scopes ",(0,t.jsx)(p.ChevronRight,{className:"w-4 h-4"})]})]})]})}e.s(["default",()=>b])}]);