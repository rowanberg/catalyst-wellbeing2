(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16715,e=>{"use strict";let s=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>s],16715)},63488,e=>{"use strict";let s=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>s],63488)},27612,e=>{"use strict";let s=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>s],27612)},86536,e=>{"use strict";let s=(0,e.i(75254).default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},5631,e=>{"use strict";let s=(0,e.i(75254).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],5631)},3116,e=>{"use strict";let s=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],3116)},38308,e=>{"use strict";let s=(0,e.i(75254).default)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],38308)},14764,e=>{"use strict";let s=(0,e.i(75254).default)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);e.s(["Send",()=>s],14764)},18216,e=>{"use strict";let s=(0,e.i(75254).default)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>s],18216)},47935,e=>{"use strict";var s=e.i(43476),t=e.i(71645),l=e.i(46932),a=e.i(88653),i=e.i(61911),r=e.i(7233),d=e.i(63488),c=e.i(98919),n=e.i(18216),o=e.i(27612),m=e.i(5631),x=e.i(3116),h=e.i(38308),p=e.i(14764),u=e.i(16715);let b=(0,e.i(75254).default)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);var v=e.i(84614),f=e.i(86536),j=e.i(73205);let g=[{id:"admin",name:"Admin",description:"Full access to all apps and settings",color:"text-purple-400"},{id:"developer",name:"Developer",description:"Can manage apps and view analytics",color:"text-blue-400"},{id:"viewer",name:"Viewer",description:"Read-only access to apps and analytics",color:"text-slate-400"}];function y(){let[e,y]=(0,t.useState)(!0),[N,w]=(0,t.useState)([]),[k,C]=(0,t.useState)([]),[S,_]=(0,t.useState)(!1),[M,A]=(0,t.useState)(""),[q,E]=(0,t.useState)("developer"),[z,P]=(0,t.useState)(!1),[T,I]=(0,t.useState)(null),[R,U]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{let{data:{user:e}}=await j.devSupabase.auth.getUser();if(!e)return;let{data:s}=await j.devSupabase.from("developer_accounts").select("*").eq("auth_user_id",e.id).single();if(s){U(s);let{data:e}=await j.devSupabase.from("developer_team_members").select("*").eq("developer_id",s.id).order("joined_at",{ascending:!0});e&&w(e);let{data:t}=await j.devSupabase.from("developer_team_invitations").select("*").eq("developer_id",s.id).eq("status","pending").order("created_at",{ascending:!1});t&&C(t)}}catch(e){console.error("Error loading team:",e)}finally{y(!1)}})()},[]);let V=async()=>{if(M&&R){P(!0);try{let e=new Date;e.setDate(e.getDate()+7);let{data:s,error:t}=await j.devSupabase.from("developer_team_invitations").insert({developer_id:R.id,email:M,role:q,status:"pending",expires_at:e.toISOString(),invited_by:R.id}).select().single();if(t)throw t;C([s,...k]),_(!1),A(""),E("developer")}catch(e){console.error("Error sending invite:",e)}finally{P(!1)}}},D=async e=>{try{await j.devSupabase.from("developer_team_invitations").update({status:"cancelled"}).eq("id",e),C(k.filter(s=>s.id!==e))}catch(e){console.error("Error cancelling invite:",e)}},$=async e=>{if(confirm("Are you sure you want to remove this team member?"))try{await j.devSupabase.from("developer_team_members").delete().eq("id",e),w(N.filter(s=>s.id!==e))}catch(e){console.error("Error removing member:",e)}},L=async(e,s)=>{try{await j.devSupabase.from("developer_team_members").update({role:s}).eq("id",e),w(N.map(t=>t.id===e?{...t,role:s}:t)),I(null)}catch(e){console.error("Error updating role:",e)}},O=e=>{switch(e){case"owner":return"text-amber-400 bg-amber-500/20";case"admin":return"text-purple-400 bg-purple-500/20";case"developer":return"text-blue-400 bg-blue-500/20";default:return"text-slate-400 bg-slate-500/20"}};return e?(0,s.jsxs)("div",{className:"space-y-6 animate-pulse",children:[(0,s.jsx)("div",{className:"h-10 bg-slate-800 rounded-lg w-1/3"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-6",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"h-24 bg-slate-800/50 rounded-2xl"},t))}),(0,s.jsx)("div",{className:"h-96 bg-slate-800/50 rounded-2xl"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Team Members"}),(0,s.jsx)("p",{className:"text-slate-400 mt-1",children:"Manage your team and their access permissions"})]}),(0,s.jsxs)("button",{onClick:()=>_(!0),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold text-sm transition-all",children:[(0,s.jsx)(r.Plus,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Invite Member"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:(0,s.jsx)(i.Users,{className:"w-6 h-6 text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:N.length+1}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Team Members"})]})]})}),(0,s.jsx)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-xl",children:(0,s.jsx)(x.Clock,{className:"w-6 h-6 text-yellow-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:k.length}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Pending Invites"})]})]})}),(0,s.jsx)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-xl",children:(0,s.jsx)(c.Shield,{className:"w-6 h-6 text-purple-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:N.filter(e=>"admin"===e.role).length+1}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Admins"})]})]})})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl overflow-hidden",children:[(0,s.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Active Members"})}),(0,s.jsxs)("div",{className:"divide-y divide-slate-700/50",children:[(0,s.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white font-semibold",children:R?.full_name?.charAt(0)||"O"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-medium text-white",children:R?.full_name||"You"}),(0,s.jsx)("span",{className:"text-xs text-amber-400",children:"(You)"})]}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:R?.email})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-lg text-sm font-medium ${O("owner")}`,children:[(0,s.jsx)(b,{className:"w-4 h-4"}),"Owner"]})})]}),N.map(e=>{let t=(e=>{switch(e){case"owner":return b;case"admin":return c.Shield;case"developer":default:return v.User;case"viewer":return f.Eye}})(e.role);return(0,s.jsxs)("div",{className:"p-6 flex items-center justify-between hover:bg-slate-700/20 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:e.avatar_url?(0,s.jsx)("img",{src:e.avatar_url,alt:"",className:"w-full h-full rounded-xl object-cover"}):e.full_name?.charAt(0)||e.email.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-white",children:e.full_name||"Unnamed"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:e.email})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-lg text-sm font-medium ${O(e.role)}`,children:[(0,s.jsx)(t,{className:"w-4 h-4"}),e.role.charAt(0).toUpperCase()+e.role.slice(1)]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>I(T===e.id?null:e.id),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:(0,s.jsx)(n.MoreVertical,{className:"w-5 h-5"})}),(0,s.jsx)(a.AnimatePresence,{children:T===e.id&&(0,s.jsxs)(l.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl overflow-hidden z-10",children:[(0,s.jsxs)("div",{className:"p-2",children:[(0,s.jsx)("p",{className:"px-3 py-1.5 text-xs text-slate-500 font-medium",children:"Change Role"}),g.map(t=>(0,s.jsxs)("button",{onClick:()=>L(e.id,t.id),className:`flex items-center gap-2 w-full px-3 py-2 text-sm rounded-lg transition-colors ${e.role===t.id?"bg-blue-500/20 text-blue-400":"text-slate-300 hover:bg-slate-700/50"}`,children:[e.role===t.id&&(0,s.jsx)(m.CheckCircle,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:t.name})]},t.id))]}),(0,s.jsx)("div",{className:"border-t border-slate-700 p-2",children:(0,s.jsxs)("button",{onClick:()=>$(e.id),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg",children:[(0,s.jsx)(o.Trash2,{className:"w-4 h-4"}),"Remove Member"]})})]})})]})]})]},e.id)}),0===N.length&&(0,s.jsxs)("div",{className:"p-12 text-center",children:[(0,s.jsx)(i.Users,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No team members yet"}),(0,s.jsx)("p",{className:"text-slate-400 mb-4",children:"Invite team members to collaborate on your applications."}),(0,s.jsxs)("button",{onClick:()=>_(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-sm font-medium",children:[(0,s.jsx)(r.Plus,{className:"w-4 h-4"}),"Invite Member"]})]})]})]}),k.length>0&&(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl overflow-hidden",children:[(0,s.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Pending Invitations"})}),(0,s.jsx)("div",{className:"divide-y divide-slate-700/50",children:k.map(e=>(0,s.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-slate-700 flex items-center justify-center",children:(0,s.jsx)(d.Mail,{className:"w-6 h-6 text-slate-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-white",children:e.email}),(0,s.jsxs)("p",{className:"text-sm text-slate-400",children:["Invited as ",e.role," â€¢ Expires ",new Date(e.expires_at).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-lg text-xs font-medium",children:[(0,s.jsx)(x.Clock,{className:"w-3 h-3"}),"Pending"]}),(0,s.jsx)("button",{onClick:()=>D(e.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:(0,s.jsx)(h.XCircle,{className:"w-5 h-5"})})]})]},e.id))})]}),(0,s.jsx)(a.AnimatePresence,{children:S&&(0,s.jsx)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>_(!1),children:(0,s.jsxs)(l.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"w-full max-w-md bg-slate-800 border border-slate-700 rounded-2xl shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Invite Team Member"}),(0,s.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Send an invitation to join your team"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Mail,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,s.jsx)("input",{type:"email",value:M,onChange:e=>A(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",placeholder:"colleague@company.com"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Role"}),(0,s.jsx)("div",{className:"space-y-2",children:g.map(e=>(0,s.jsxs)("button",{onClick:()=>E(e.id),className:`w-full flex items-start gap-3 p-4 rounded-xl border transition-colors ${q===e.id?"bg-blue-500/20 border-blue-500/50":"bg-slate-900/50 border-slate-700 hover:border-slate-600"}`,children:[(0,s.jsx)("div",{className:`mt-0.5 w-5 h-5 rounded-full border-2 flex items-center justify-center ${q===e.id?"border-blue-500 bg-blue-500":"border-slate-600"}`,children:q===e.id&&(0,s.jsx)(m.CheckCircle,{className:"w-3 h-3 text-white"})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:`font-medium ${q===e.id?"text-white":"text-slate-300"}`,children:e.name}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:e.description})]})]},e.id))})]})]}),(0,s.jsxs)("div",{className:"p-6 border-t border-slate-700 flex items-center justify-end gap-3",children:[(0,s.jsx)("button",{onClick:()=>_(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{onClick:V,disabled:z||!M,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-slate-600 disabled:to-slate-600 text-white rounded-xl font-semibold text-sm transition-all",children:[z?(0,s.jsx)(u.RefreshCw,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(p.Send,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:z?"Sending...":"Send Invitation"})]})]})]})})})]})}e.s(["default",()=>y],47935)}]);